<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<script
src="https://code.jquery.com/jquery-3.6.1.js"
integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<div class="container mt-5">
    <h4 class='my-5'>Title: {{form.instance.title}}</h4>
<div id="hx-form_generator" class="g-3" hx-target="this" hx-swap="outerHTML">
    <form id="form-generator_{{form.instance.id}}" enctype="multipart/form-data">
        {{form.as_p}}
    </form>

    <h5 class='my-5'>User: {{object.user_ip}}</h5>

</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
crossorigin="anonymous"></script>

<script>
    function onElementChange(arg){
        var current = $(arg);
        var objId = null;
        if (current.attr('type') == "radio"){
            objId = current.attr('value')
        }
        else if(current[0].type == 'select-one'){
            objId = current.val()
        }
        else{
            objId = current.attr('instance_id')
        }
        $(`*[parent_object_id=${objId}][parent_content_type=${current.attr('content_type')}]`).each(function(index, element) {
                element.removeAttribute('disabled');
                element.setAttribute('parent_answer', current.attr('instance_id'))
        });

        $(`*:not([parent_object_id=${objId}])[parent_content_type=${current.attr('content_type')}][parent_answer=${current.attr('instance_id')}]`).each(function(index, element) {
                element.setAttribute('disabled', true);
        });
    };

    $('#form_submit_{{form.instance.id}}').hide()
</script>